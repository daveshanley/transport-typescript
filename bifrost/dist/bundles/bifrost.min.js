System.registerDynamic("bifrost/log/index.js",["bifrost/log/logger.service.js","bifrost/log/logger.model.js"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}this||self;return __export($__require("bifrost/log/logger.service.js")),__export($__require("bifrost/log/logger.model.js")),exports.BIFROST_LOG_DIRECTIVES=[],module.exports}),System.registerDynamic("bifrost/bus/channel.model.js",["@angular/core","rxjs/Subject"],!0,function($__require,exports,module){"use strict";var __decorate=(this||self,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=$__require("@angular/core"),Subject_1=$__require("rxjs/Subject"),Channel=function(){function Channel(name){this._name=name,this._refCount=0,this._streamObject=new Subject_1.Subject,this._closed=!1,this._galactic=!1}return Object.defineProperty(Channel.prototype,"stream",{get:function(){return this._streamObject},enumerable:!0,configurable:!0}),Object.defineProperty(Channel.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(Channel.prototype,"isClosed",{get:function(){return this._closed},enumerable:!0,configurable:!0}),Channel.prototype.send=function(message){var _this=this;setTimeout(function(){_this._streamObject.next(message)},0)},Channel.prototype.error=function(err){this._streamObject.error(err)},Channel.prototype.complete=function(){this._closed=!0,this._streamObject.complete()},Channel.prototype.increment=function(){return++this._refCount},Channel.prototype.decrement=function(){return this._refCount>0&&--this._refCount,this._refCount},Object.defineProperty(Channel.prototype,"refCount",{get:function(){return this._refCount},enumerable:!0,configurable:!0}),Channel.prototype.setGalactic=function(){return this._galactic=!0,this},Channel.prototype.setPrivate=function(){return this._galactic=!1,this},Object.defineProperty(Channel.prototype,"galactic",{get:function(){return this._galactic},enumerable:!0,configurable:!0}),Channel=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[String])],Channel)}();return exports.Channel=Channel,module.exports}),System.registerDynamic("bifrost/bus/monitor.model.js",[],!0,function($__require,exports,module){"use strict";var MonitorChannel=(this||self,function(){function MonitorChannel(){}return MonitorChannel.stream="#messagebus-monitor",MonitorChannel}());exports.MonitorChannel=MonitorChannel,function(MonitorType){MonitorType[MonitorType.MonitorCloseChannel=0]="MonitorCloseChannel",MonitorType[MonitorType.MonitorCompleteChannel=1]="MonitorCompleteChannel",MonitorType[MonitorType.MonitorDestroyChannel=2]="MonitorDestroyChannel",MonitorType[MonitorType.MonitorNewChannel=3]="MonitorNewChannel",MonitorType[MonitorType.MonitorData=4]="MonitorData",MonitorType[MonitorType.MonitorError=5]="MonitorError",MonitorType[MonitorType.MonitorDropped=6]="MonitorDropped"}(exports.MonitorType||(exports.MonitorType={}));var MonitorType=exports.MonitorType,MonitorObject=function(){function MonitorObject(){}return MonitorObject.prototype.build=function(type,channel,from,data){return this._type=type,this._from=from,this._channel=channel,this._data=data,this},Object.defineProperty(MonitorObject.prototype,"type",{get:function(){return this._type},set:function(type){this._type=type},enumerable:!0,configurable:!0}),Object.defineProperty(MonitorObject.prototype,"from",{get:function(){return this._from},set:function(from){this._from=from},enumerable:!0,configurable:!0}),Object.defineProperty(MonitorObject.prototype,"channel",{get:function(){return this._channel},set:function(channel){this._channel=channel},enumerable:!0,configurable:!0}),Object.defineProperty(MonitorObject.prototype,"data",{get:function(){return this._data},set:function(data){this._data=data},enumerable:!0,configurable:!0}),MonitorObject.prototype.isNewChannel=function(){return this._type&&this._type===MonitorType.MonitorNewChannel},MonitorObject.prototype.isChannelGone=function(){return this._type&&this._channel&&this._type===MonitorType.MonitorDestroyChannel},MonitorObject.prototype.hasData=function(){return!!this._data},MonitorObject}();return exports.MonitorObject=MonitorObject,module.exports}),System.registerDynamic("bifrost/bus/messagebus.service.js",["@angular/core","bifrost/bus/channel.model.js","bifrost/log/util.js","bifrost/log/logger.service.js","bifrost/log/logger.model.js","bifrost/bus/monitor.model.js","bifrost/bus/message.model.js","rxjs/add/operator/filter"],!0,function($__require,exports,module){"use strict";var __decorate=(this||self,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=$__require("@angular/core"),channel_model_1=$__require("bifrost/bus/channel.model.js"),util_1=$__require("bifrost/log/util.js"),logger_service_1=$__require("bifrost/log/logger.service.js"),logger_model_1=$__require("bifrost/log/logger.model.js"),monitor_model_1=$__require("bifrost/bus/monitor.model.js"),message_model_1=$__require("bifrost/bus/message.model.js");$__require("rxjs/add/operator/filter");var MessageBusEnabled=function(){function MessageBusEnabled(){}return MessageBusEnabled}();exports.MessageBusEnabled=MessageBusEnabled;var MessagebusService=function(){function MessagebusService(_channelMap){this._channelMap=_channelMap,this.monitorChannel=monitor_model_1.MonitorChannel.stream,this.enableMonitor="undefined"==typeof jasmine,this.dumpMonitor=!0,this._channelMap=new Map,this.monitorStream=new channel_model_1.Channel(this.monitorChannel),this._channelMap.set(this.monitorChannel,this.monitorStream),this.log=new logger_service_1.LoggerService,this.log.logLevel=logger_model_1.LogLevel.Info,this.enableMonitor&&this.monitorBus()}return MessagebusService.prototype.getName=function(){return this.constructor.name},MessagebusService.prototype.increment=function(cname){this.channelMap.get(cname).increment()},Object.defineProperty(MessagebusService.prototype,"channelMap",{get:function(){return this._channelMap},enumerable:!0,configurable:!0}),MessagebusService.prototype.getMonitor=function(){return this.monitorStream.stream},MessagebusService.prototype.enableMonitorDump=function(flag){return this.dumpMonitor=flag,this.dumpMonitor},MessagebusService.prototype.logger=function(){return this.log},MessagebusService.prototype.messageLog=function(msg,from){this.log.info(msg,from)},MessagebusService.prototype.suppressLog=function(set){this.log.suppress(set)},MessagebusService.prototype.silenceLog=function(set){this.log.silent(set)},MessagebusService.prototype.setLogLevel=function(logLevel){this.log.logLevel=logLevel},MessagebusService.prototype.getChannel=function(cname,from){return this.getChannelObject(cname,from).stream},MessagebusService.prototype.getGalacticChannel=function(cname,from){return this.getChannelObject(cname,from).setGalactic().stream},MessagebusService.prototype.isGalacticChannel=function(cname){return!!this._channelMap.has(cname)&&this._channelMap.get(cname).galactic},MessagebusService.prototype.getChannelObject=function(cname,from){var channel,symbol=" + ";this._channelMap.has(cname)?channel=this._channelMap.get(cname):(channel=new channel_model_1.Channel(cname),this._channelMap.set(cname,channel),symbol=" +++ ");var mo=(new monitor_model_1.MonitorObject).build(monitor_model_1.MonitorType.MonitorNewChannel,cname,from,symbol);return this.monitorStream.send((new message_model_1.Message).request(mo)),channel.increment(),channel},MessagebusService.prototype.getRequestChannel=function(cname,from){return this.getChannel(cname,from).filter(function(message){return message.isRequest()})},MessagebusService.prototype.getResponseChannel=function(cname,from){return this.getChannel(cname,from).filter(function(message){return message.isResponse()||message.isError()})},MessagebusService.prototype.refCount=function(cname){return this._channelMap.has(cname)?this._channelMap.get(cname).refCount:-1},MessagebusService.prototype.close=function(cname,from){if(!this._channelMap.has(cname))return!1;var channel=this._channelMap.get(cname);channel.decrement();var mo=(new monitor_model_1.MonitorObject).build(monitor_model_1.MonitorType.MonitorCloseChannel,cname,from," "+channel.refCount);return this.monitorStream.send((new message_model_1.Message).request(mo)),0===channel.refCount&&this.destroy(channel,from)},MessagebusService.prototype.send=function(cname,message,from){if(message.messageSchema||this.logger().warn("* No schema in message to "+cname,from),!this._channelMap.has(cname)){var mo_1=(new monitor_model_1.MonitorObject).build(monitor_model_1.MonitorType.MonitorDropped,cname,from,message);return this.monitorStream.send((new message_model_1.Message).request(mo_1)),!1}var mo=(new monitor_model_1.MonitorObject).build(monitor_model_1.MonitorType.MonitorData,cname,from,message);return this.monitorStream.send((new message_model_1.Message).request(mo)),this._channelMap.get(cname).send(message),!0},MessagebusService.prototype.error=function(cname,err){if(!this._channelMap.has(cname))return!1;var mo=(new monitor_model_1.MonitorObject).build(monitor_model_1.MonitorType.MonitorError,cname,"bus error");return this.monitorStream.send((new message_model_1.Message).error(mo)),this._channelMap.get(cname).error(err),!0},MessagebusService.prototype.complete=function(cname,from){if(!this._channelMap.has(cname))return!1;var mo=(new monitor_model_1.MonitorObject).build(monitor_model_1.MonitorType.MonitorCompleteChannel,cname,from);this.monitorStream.send((new message_model_1.Message).request(mo));var channel=this._channelMap.get(cname);return channel.complete(),this.destroy(channel,from)},MessagebusService.prototype.countListeners=function(){var count=0;return this.channelMap.forEach(function(channel,name){count+=channel.refCount}),count},MessagebusService.prototype.destroyAllChannels=function(){var _this=this;this.channelMap.forEach(function(channel,name){_this.destroy(channel,name)})},MessagebusService.prototype.destroy=function(channel,from){var mo=(new monitor_model_1.MonitorObject).build(monitor_model_1.MonitorType.MonitorDestroyChannel,channel.name,from);return this.monitorStream.send((new message_model_1.Message).request(mo)),delete this._channelMap.get(channel.name),this._channelMap.delete(channel.name),!0},MessagebusService.prototype.dumpData=function(mo,tag){var message=mo.data;this.log.group(logger_model_1.LogLevel.Info,tag),this.log.info(" -> "+mo.channel,"Channel"),message.isRequest()?this.log.info("REQUEST","Type"):message.isError()?this.log.info("ERROR","Type"):this.log.info("RESPONSE","Type"),this.log.group(logger_model_1.LogLevel.Info,message.isError()?"Error":"Payload"),this.log.info(util_1.LogUtil.pretty(message.payload),mo.from),this.log.groupEnd(logger_model_1.LogLevel.Info),message.messageSchema&&(this.log.group(logger_model_1.LogLevel.Info,"Schema: "+message.messageSchema._title),this.log.info(util_1.LogUtil.pretty(message.messageSchema),"Schema"),this.log.groupEnd(logger_model_1.LogLevel.Info)),this.log.groupEnd(logger_model_1.LogLevel.Info)},MessagebusService.prototype.monitorBus=function(){var _this=this;this.getMonitor().subscribe(function(message){if(message.isError())_this.log.error("Error on monitor channel: "+util_1.LogUtil.pretty(message),_this.getName());else{var mo=message.payload;switch(mo.type){case monitor_model_1.MonitorType.MonitorNewChannel:_this.log.info(mo.data+mo.channel,mo.from);break;case monitor_model_1.MonitorType.MonitorCloseChannel:_this.log.info(" X "+mo.channel+"["+mo.data+"]",mo.from);break;case monitor_model_1.MonitorType.MonitorCompleteChannel:_this.log.info(" C "+mo.channel,mo.from);break;case monitor_model_1.MonitorType.MonitorDestroyChannel:_this.log.info("XXX "+mo.channel,mo.from);break;case monitor_model_1.MonitorType.MonitorData:if(!_this.dumpMonitor)break;_this.dumpData(mo,mo.from+" -> "+mo.channel+(message.messageSchema?"  ["+message.messageSchema._title+"]":""));break;case monitor_model_1.MonitorType.MonitorDropped:if(!_this.dumpMonitor)break;_this.dumpData(mo,"*DROP* message from "+mo.from+" -> "+mo.channel+(message.messageSchema?"  ["+message.messageSchema._title+"]":""))}}})},MessagebusService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[Map])],MessagebusService)}();return exports.MessagebusService=MessagebusService,module.exports}),System.registerDynamic("bifrost/bus/message.schema.js",[],!0,function($__require,exports,module){"use strict";var __extends=(this||self,this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),MessageSchema=function(){function MessageSchema(title,description,payload,type){void 0===description&&(description="message schema"),void 0===type&&(type="object"),this.title=title,this.description=description,this.type=type,this.$schema="http://json-schema.org/draft-04/schema#",this.properties={_payload:{type:"object"},_isError:{type:"boolean"},_type:{type:"integer"},required:["_payload","_type","isError"]},payload&&(this.properties._payload=payload)}return Object.defineProperty(MessageSchema.prototype,"_title",{get:function(){return this.title},set:function(title){this.title=title},enumerable:!0,configurable:!0}),Object.defineProperty(MessageSchema.prototype,"_description",{get:function(){return this.description},set:function(description){this.description=description},enumerable:!0,configurable:!0}),Object.defineProperty(MessageSchema.prototype,"_type",{get:function(){return this.type},set:function(type){this.type=type},enumerable:!0,configurable:!0}),MessageSchema}();exports.MessageSchema=MessageSchema;var ErrorSchema=function(_super){function ErrorSchema(){_super.call(this,"Error","Error Response")}return __extends(ErrorSchema,_super),ErrorSchema}(MessageSchema);return exports.ErrorSchema=ErrorSchema,module.exports}),System.registerDynamic("bifrost/bus/message.model.js",["@angular/core","bifrost/bus/message.schema.js"],!0,function($__require,exports,module){"use strict";var __decorate=(this||self,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=$__require("@angular/core"),message_schema_1=$__require("bifrost/bus/message.schema.js");!function(MessageType){MessageType[MessageType.MessageTypeRequest=0]="MessageTypeRequest",MessageType[MessageType.MessageTypeResponse=1]="MessageTypeResponse",MessageType[MessageType.MessageTypeError=2]="MessageTypeError"}(exports.MessageType||(exports.MessageType={}));var MessageType=exports.MessageType,Message=function(){function Message(messageSchema){this._isError=!1,this._messageSchema=messageSchema}return Message.prototype.build=function(type,payload,messageSchema,error){return void 0===messageSchema&&(messageSchema=void 0),void 0===error&&(error=!1),this._isError=error,this._payload=payload,this._type=type,this._messageSchema=messageSchema,this},Message.prototype.request=function(payload,messageSchema){return this.build(MessageType.MessageTypeRequest,payload,messageSchema)},Message.prototype.response=function(payload,messageSchema){return this.build(MessageType.MessageTypeResponse,payload,messageSchema)},Message.prototype.error=function(error,messageSchema){return this.build(MessageType.MessageTypeError,error,messageSchema,!0)},Message.prototype.isRequest=function(){return this._type===MessageType.MessageTypeRequest},Message.prototype.isResponse=function(){return this._type===MessageType.MessageTypeResponse},Message.prototype.isError=function(){return this._type===MessageType.MessageTypeError},Object.defineProperty(Message.prototype,"payload",{get:function(){return this._payload},set:function(payload){this._payload=payload},enumerable:!0,configurable:!0}),Object.defineProperty(Message.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(Message.prototype,"messageSchema",{get:function(){return this._messageSchema},enumerable:!0,configurable:!0}),Message=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[message_schema_1.MessageSchema])],Message)}();return exports.Message=Message,module.exports}),System.registerDynamic("bifrost/bus/index.js",["bifrost/bus/messagebus.service.js","bifrost/bus/message.model.js"],!0,function($__require,exports,module){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}this||self;return __export($__require("bifrost/bus/messagebus.service.js")),__export($__require("bifrost/bus/message.model.js")),exports.BIFROST_BUS_DIRECTIVES=[],module.exports}),System.registerDynamic("bifrost/bifrost.module.js",["@angular/common","@angular/core","bifrost/bus/messagebus.service.js","bifrost/log/logger.service.js","bifrost/log/index.js","bifrost/bus/index.js"],!0,function($__require,exports,module){"use strict";var __decorate=(this||self,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},common_1=$__require("@angular/common"),core_1=$__require("@angular/core"),messagebus_service_1=$__require("bifrost/bus/messagebus.service.js"),logger_service_1=$__require("bifrost/log/logger.service.js"),index_1=$__require("bifrost/log/index.js"),index_2=$__require("bifrost/bus/index.js"),BifrostModule=function(){function BifrostModule(){}return BifrostModule.forRoot=function(){return{ngModule:BifrostModule,providers:[messagebus_service_1.MessagebusService,logger_service_1.LoggerService]}},BifrostModule.forChild=function(){return{ngModule:BifrostModule,providers:[]}},BifrostModule=__decorate([core_1.NgModule({imports:[common_1.CommonModule],declarations:[index_2.BIFROST_BUS_DIRECTIVES,index_1.BIFROST_LOG_DIRECTIVES],exports:[index_2.BIFROST_BUS_DIRECTIVES,index_1.BIFROST_LOG_DIRECTIVES]}),__metadata("design:paramtypes",[])],BifrostModule)}();return exports.BifrostModule=BifrostModule,module.exports}),System.registerDynamic("bifrost/index.js",[],!1,function($__require,$__exports,$__module){var _retrieveGlobal=System.get("@@global-helpers").prepareGlobal($__module.id,null,null);return function($__global){}(this),_retrieveGlobal()}),System.registerDynamic("bifrost/log/logger.service.js",["@angular/core","bifrost/log/logger.model.js"],!0,function($__require,exports,module){"use strict";function checkForStyledLogSupport(){if("undefined"==typeof window)return!1;var looksLikePhantomJS=/PhantomJS/.test(window.navigator.userAgent);return!looksLikePhantomJS}var __decorate=(this||self,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=$__require("@angular/core"),logger_model_1=$__require("bifrost/log/logger.model.js"),LoggerService=function(){function LoggerService(){this.dateCss="color: blue;",this.fromCss="color: green",this.normalCss="color: black;",this.errorCss="color: red;",this.warnCss="color: orange;",this.infoCss="color: brown;",this.debugCss="color: black;",this.verboseCss="color: cyan;",this._suppress=!1,this._silent=!1,this._styledLogsSupported=checkForStyledLogSupport()}return LoggerService.prototype.last=function(){return this._lastLog},LoggerService.prototype.clear=function(){this._lastLog=""},Object.defineProperty(LoggerService.prototype,"logLevel",{get:function(){return this._logLevel},set:function(level){this._logLevel=level},enumerable:!0,configurable:!0}),LoggerService.prototype.suppress=function(flag){this._suppress=flag},LoggerService.prototype.silent=function(flag){this._silent=flag},LoggerService.prototype.verbose=function(object,from){this.log((new logger_model_1.LogObject).build(logger_model_1.LogLevel.Verbose,logger_model_1.LogChannel.channel,object,from,this._suppress))},LoggerService.prototype.debug=function(object,from){this.log((new logger_model_1.LogObject).build(logger_model_1.LogLevel.Debug,logger_model_1.LogChannel.channel,object,from,this._suppress))},LoggerService.prototype.info=function(object,from){this.log((new logger_model_1.LogObject).build(logger_model_1.LogLevel.Info,logger_model_1.LogChannel.channel,object,from,this._suppress))},LoggerService.prototype.warn=function(object,from){this.log((new logger_model_1.LogObject).build(logger_model_1.LogLevel.Warn,logger_model_1.LogChannel.channel,object,from,this._suppress))},LoggerService.prototype.error=function(object,from){this.log((new logger_model_1.LogObject).build(logger_model_1.LogLevel.Error,logger_model_1.LogChannel.channel,object,from,this._suppress))},LoggerService.prototype.always=function(object,from){this.log((new logger_model_1.LogObject).build(logger_model_1.LogLevel.Off,logger_model_1.LogChannel.channel,object,from))},LoggerService.prototype.group=function(logLevel,label,suppress){void 0===suppress&&(suppress=this._suppress),logLevel<this.logLevel||suppress||console.groupCollapsed(label)},LoggerService.prototype.groupEnd=function(logLevel){logLevel<this.logLevel||this._suppress||console.groupEnd()},LoggerService.prototype.outputWithOptionalStyle=function(fn,output,severityCss){var consoleArgs=[output];this._styledLogsSupported&&(consoleArgs=consoleArgs.concat(this.dateCss,this.fromCss,severityCss)),fn.apply(console,consoleArgs)},LoggerService.prototype.log=function(logObject){if(!(logObject.logLevel<this.logLevel||(this._lastLog="["+logObject.caller+"]: "+logObject.object,logObject.suppress||this._silent))){var date=(new Date).toLocaleTimeString(),output="%c"+date+" %c["+logObject.caller+"]: %c"+logObject.object;switch(this._styledLogsSupported||(output=output.replace(/%c/g,"")),logObject.logLevel){case logger_model_1.LogLevel.Error:this.outputWithOptionalStyle(console.error,output,this.errorCss);break;case logger_model_1.LogLevel.Warn:this.outputWithOptionalStyle(console.warn,output,this.warnCss);break;case logger_model_1.LogLevel.Info:this.outputWithOptionalStyle(console.log,output,this.infoCss);break;case logger_model_1.LogLevel.Debug:this.outputWithOptionalStyle(console.log,output,this.debugCss);break;case logger_model_1.LogLevel.Verbose:this.outputWithOptionalStyle(console.log,output,this.verboseCss);break;default:this.outputWithOptionalStyle(console.log,output,this.normalCss)}}},LoggerService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],LoggerService)}();return exports.LoggerService=LoggerService,module.exports}),System.registerDynamic("bifrost/log/util.js",["@angular/core"],!0,function($__require,exports,module){"use strict";var __decorate=(this||self,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=$__require("@angular/core"),LogUtil=function(){function LogUtil(){}return LogUtil.pretty=function(obj,html){void 0===html&&(html=!1);var formatted=obj?JSON.stringify(obj,void 0,2):"";if(!html)return formatted;var regex=new RegExp('(\\")(\\w+)(\\")(:)\\s+',"gm");return formatted=formatted.replace(regex,function(match,first,second){return'<span##Space##style="color:black;font-weight:bold">'+second+"</span>:&nbsp;&nbsp;"}),formatted.split("\n").join("<br>").split(" ").join("&nbsp;&nbsp;&nbsp;&nbsp;").split("##Space##").join(" ")},LogUtil=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],LogUtil)}();return exports.LogUtil=LogUtil,module.exports}),System.registerDynamic("bifrost/log/logger.model.js",["bifrost/log/util.js"],!0,function($__require,exports,module){"use strict";var util_1=(this||self,$__require("bifrost/log/util.js"));!function(LogLevel){LogLevel[LogLevel.Verbose=0]="Verbose",LogLevel[LogLevel.Debug=1]="Debug",LogLevel[LogLevel.Info=2]="Info",LogLevel[LogLevel.Warn=3]="Warn",LogLevel[LogLevel.Error=4]="Error",LogLevel[LogLevel.Off=5]="Off"}(exports.LogLevel||(exports.LogLevel={}));var LogLevel=exports.LogLevel,LogChannel=function(){function LogChannel(){}return LogChannel.channel="#Log",LogChannel.logLevel="LogLevel",LogChannel}();exports.LogChannel=LogChannel;var LogLevelObject=function(){function LogLevelObject(){this._logLevel=LogLevel.Warn}return LogLevelObject.prototype.build=function(logLevel){return this._logLevel=logLevel,this},Object.defineProperty(LogLevelObject.prototype,"logLevel",{get:function(){return this._logLevel},set:function(level){this._logLevel=level},enumerable:!0,configurable:!0}),LogLevelObject}();exports.LogLevelObject=LogLevelObject;var LogObject=function(){function LogObject(){}return LogObject.prototype.build=function(logLevel,channel,object,caller,suppress){return void 0===suppress&&(suppress=!1),this._logLevel=logLevel,this._channel=channel,this._object=object,this._caller=caller,this._suppress=suppress,this},Object.defineProperty(LogObject.prototype,"logLevel",{get:function(){return this._logLevel},set:function(level){this._logLevel=level},enumerable:!0,configurable:!0}),Object.defineProperty(LogObject.prototype,"channel",{get:function(){return this._channel},set:function(chan){this._channel=chan},enumerable:!0,configurable:!0}),Object.defineProperty(LogObject.prototype,"object",{get:function(){return this._object},set:function(object){object.constructor!==String&&(object=util_1.LogUtil.pretty(object)),this._object=object},enumerable:!0,configurable:!0}),Object.defineProperty(LogObject.prototype,"caller",{get:function(){return this._caller},set:function(source){this._caller=source},enumerable:!0,configurable:!0}),Object.defineProperty(LogObject.prototype,"suppress",{get:function(){return this._suppress},set:function(suppress){this._suppress=suppress},enumerable:!0,configurable:!0}),LogObject}();return exports.LogObject=LogObject,module.exports}),System.registerDynamic("bifrost/log/syslog.js",["@angular/core","bifrost/log/logger.service.js","bifrost/log/logger.model.js"],!0,function($__require,exports,module){"use strict";var __decorate=(this||self,this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}),__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},core_1=$__require("@angular/core"),logger_service_1=$__require("bifrost/log/logger.service.js"),logger_model_1=$__require("bifrost/log/logger.model.js"),Syslog=function(){function Syslog(){}return Syslog.setLogLevel=function(level){Syslog.createLogger(),Syslog.logLevel=level,Syslog.logger.logLevel=level},Syslog.getLogLevel=function(){return Syslog.logLevel},Syslog.saveLogLevel=function(){localStorage.setItem(Syslog.LOG_LEVEL,Syslog.getLogLevel()+"")},Syslog.clearLogLevel=function(){localStorage.removeItem(Syslog.LOG_LEVEL)},Syslog.getSavedLogLevel=function(){var saved=localStorage.getItem(Syslog.LOG_LEVEL);return saved?+saved:(Syslog.createLogger(),Syslog.logLevel=logger_model_1.LogLevel.Warn,Syslog.logger.logLevel=Syslog.logLevel,Syslog.logLevel)},Syslog.suppress=function(flag){Syslog.createLogger(),Syslog.suppressFlag=flag,Syslog.logger.suppress(flag)},Syslog.silent=function(flag){Syslog.createLogger(),Syslog.logger.silent(flag)},Syslog.group=function(level,label,suppress){void 0===suppress&&(suppress=Syslog.suppressFlag),Syslog.createLogger(),Syslog.logger.group(level,label,suppress)},Syslog.groupEnd=function(level){Syslog.logger.groupEnd(level)},Syslog.verbose=function(object,from){Syslog.createLogger(),Syslog.logger.verbose(object,from)},Syslog.debug=function(object,from){Syslog.createLogger(),Syslog.logger.debug(object,from)},Syslog.info=function(object,from){Syslog.createLogger(),Syslog.logger.info(object,from)},Syslog.warn=function(object,from){Syslog.createLogger(),Syslog.logger.warn(object,from)},Syslog.error=function(object,from){Syslog.createLogger(),Syslog.logger.error(object,from)},Syslog.last=function(){return Syslog.createLogger(),Syslog.logger.last()},Syslog.createLogger=function(){Syslog.logger||(Syslog.logger=new logger_service_1.LoggerService,Syslog.logger.logLevel=Syslog.logLevel)},Syslog.logLevel=logger_model_1.LogLevel.Warn,Syslog.suppressFlag=!1,Syslog.LOG_LEVEL="logLevel",Syslog=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],Syslog)}();return exports.Syslog=Syslog,module.exports});